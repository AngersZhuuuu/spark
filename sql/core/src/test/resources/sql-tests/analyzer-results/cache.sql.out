-- Automatically generated by SQLQueryTestSuite
-- !query
CREATE TEMPORARY VIEW t1 AS SELECT * FROM VALUES 0, 1, 2 AS t(id)
-- !query analysis
CreateViewCommand `t1`, SELECT * FROM VALUES 0, 1, 2 AS t(id), false, false, LocalTempView, true
   +- Project [id#x]
      +- SubqueryAlias t
         +- LocalRelation [id#x]


-- !query
CACHE TABLE cache_table
WITH
t2 AS (SELECT 1)
SELECT * FROM t2
-- !query analysis
CacheTableAsSelect cache_table, WITH
t2 AS (SELECT 1)
SELECT * FROM t2, false, true
   +- WithCTE
      :- CTERelationDef xxxx, false
      :  +- SubqueryAlias t2
      :     +- Project [1 AS 1#x]
      :        +- OneRowRelation
      +- Project [1#x]
         +- SubqueryAlias t2
            +- CTERelationRef xxxx, true, [1#x], false


-- !query
SELECT * FROM cache_table
-- !query analysis
Project [1#x]
+- SubqueryAlias cache_table
   +- View (`cache_table`, [1#x])
      +- Project [cast(1#x as int) AS 1#x]
         +- WithCTE
            :- CTERelationDef xxxx, false
            :  +- SubqueryAlias t2
            :     +- Project [1 AS 1#x]
            :        +- OneRowRelation
            +- Project [1#x]
               +- SubqueryAlias t2
                  +- CTERelationRef xxxx, true, [1#x], false


-- !query
EXPLAIN EXTENDED SELECT * FROM cache_table
-- !query analysis
ExplainCommand 'Project [*], ExtendedMode


-- !query
DROP TABLE IF EXISTS t1
-- !query analysis
DropTempViewCommand t1
